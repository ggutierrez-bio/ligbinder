#!/usr/bin/env python3

import argparse
import logging
from ligbinder.core import LigBinder

def get_parser():
    parser = argparse.ArgumentParser()
    parser.add_argument(
        "-p", "--path",
        help="ligbinder run folder path. default is .",
        default="."
    )
    parser.add_argument(
        "-c", "--config",
        help=f"location of additional configuration file. "
             f"if no config file is provided, all the config values will be the default ones.",
        default=None
    )
    parser.add_argument(
        "-v", "--verbosity",
        help="set verbosity level",  # from INFO, WARNING, ERROR, CRITICAL",
        default="WARNING",
        choices=["INFO", "WARNING", "ERROR", "CRITICAL"]
    )
    parser.add_argument(
        "-l", "--log",
        help="send the logging output to the specified file",
        default=None
    )
    return parser


parser = get_parser()
args = parser.parse_args()
logging.basicConfig(level=args.verbosity, filename=args.log, filemode='w')
ligbinder = LigBinder(path=args.path, config_file=args.config)
ligbinder.run()